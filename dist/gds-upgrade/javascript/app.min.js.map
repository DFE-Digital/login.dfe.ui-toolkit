{"version":3,"file":"app.min.js","names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","module","global","factory","this","assign","target","arguments","source","key","api","init","converter","defaultAttributes","set","name","value","attributes","document","expires","Date","now","toUTCString","encodeURIComponent","replace","decodeURIComponent","escape","stringifiedAttributes","attributeName","split","cookie","write","Object","create","get","cookies","jar","parts","slice","join","found","read","remove","withAttributes","withConverter","freeze","path","define","amd","globalThis","self","current","Cookies","noConflict","COOKIE_NAMES","PREFERENCES_SET","POLICY","GA","GA_GID","GA_GAT","USER_BANNER_LAST_SEEN","GOVUK_COOKIE_OPTIONS","secure","domain","GovUKCookie","getRaw","JSON","parse","checkConditionForUsersBanner","lastSeen","getTime","window","loadReviewUsersBanner","$","show","updateCookieReviewUsersBanner","GOVUK","details","NATIVE_DETAILS","createElement","open","KEY_ENTER","KEY_SPACE","started","addEvent","node","type","callback","addEventListener","attachEvent","srcElement","removeEvent","removeEventListener","detachEvent","charCode","which","keyCode","preventDefault","returnValue","addClickEvent","nodeName","toLowerCase","click","getAncestor","match","parentNode","addDetailsPolyfill","list","container","body","getElementsByTagName","__summary","item","__content","id","setAttribute","tabIndex","openAttr","getAttribute","style","display","__details","twisty","className","appendChild","createTextNode","__twisty","insertBefore","firstChild","summary","statechange","expanded","hidden","removeAttribute","nodeValue","destroy","NSA","filterBoxes","filters","checkCountText","checkboxes","filter","each","_","element","filterBox","header","find","title","button","addClass","checkCount","text","on","currentTarget","options","next","hasClass","removeClass","attr","hide","append","replaceWith","toKebabCase","str","hideElement","uncheckCheckbox","prop","extractFirstPartFromId","pop","updateCount","categoryName","safeCategoryName","checkedCount","updateCategoryHeader","categoryHeader","isAnyCheckedInCategory","css","updateNoFilterMessage","isAnyCheckedGlobal","filterAndPerformAction","firstPartOfListId","listIdStartingNumber","performAction","parseInt","Number","isNaN","initializeFilters","checkboxId","index","boxId","checkedElementId","isChecked","showMe","lastLoginCheckboxes","lastLoginListTags","firstPartOfCheckboxId","checked","handleLastLoginCheckboxChange","modal","elems","links","modals","modalBg","setUpEvents","that","bg","hideModals","showModal","RESPONSE_TYPE_CODE","RESPONSE_TYPE_ID_TOKEN","RESPONSE_TYPE_TOKEN","createServiceConfigUrlSections","sectionId","formGroupSelector","labelText","addButton","formGroup","counter","data","newInputId","appendTo","trigger","groupId","newCounter","handleSecretGeneration","eventId","inputId","confirmMessage","secret","niceware","generatePassphrase","confirm","updateSections","selectedTypes","is","push","warningMessage","sort","b","order","indexOf","flowType","includes","selectedTypesDisplay","initialOffset","offset","top","initialScrollPosition","scrollTop","slideDown","slideUp","offsetDifference","animate","globalObject","jQuery","ShowHideContent","selectors","getToggledContent","$control","closest","initToggledContent","$content","showToggledContent","hideToggledContent","content","handleRadioContent","selector","$form","handleCheckboxContent","handleLinkContent","$event","handleSelectContent","val","$container","elementSelector","eventSelectors","handler","deferred","event","$controls","eventSelector","showHideRadioToggledContent","radioGroups","map","groupName","inArray","getEventSelectorsForRadioGroups","showHideCheckboxToggledContent","showHideLinkToggledContent","showHideSelectToggledContent","off","prototype","headingCells","direction","table","rows","switching","x","y","shouldSwitch","switchcount","innerHTML","sortTable","$that","liveRegion","toggleTip","html","message","setTimeout","before","$passwordInput","validatePasswordHtml","password","initialiseShowPassword","$showButton","class","ariaLabel","after","backLink","href","history","back","select2","matcher","select2ModelMatcher","params","parentText","term","trim","children","extend","child","splice","original","toUpperCase","alert","parent","info","toggle","meta","searchFields","loader","b1","b2","form","formRegister","$submitButtons","$submitButton","eq","outerWidth","position","tabId","sessionDurationInMinutes","notifyUserWhenSessionMinutesRemain","getSessionNotifyUserInSeconds","updateSessionCounterDisplay","totalSecondsRemaining","minutesRemaining","Math","floor","secondsRemaining","toString","padStart","timeoutTimer","countTimeDiff","localStorage","setItem","location","pathname","clearInterval","reload","sessionTimeout","removeItem","onfocus","triggerCallbackInMilliseconds","focus","setInterval","getItem"],"sources":["app.min.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n/*! js-cookie v3.0.5 | MIT */\n;\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (function () {\n    var current = global.Cookies;\n    var exports = global.Cookies = factory();\n    exports.noConflict = function () { global.Cookies = current; return exports; };\n  })());\n})(this, (function () { 'use strict';\n\n  /* eslint-disable no-var */\n  function assign (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        target[key] = source[key];\n      }\n    }\n    return target\n  }\n  /* eslint-enable no-var */\n\n  /* eslint-disable no-var */\n  var defaultConverter = {\n    read: function (value) {\n      if (value[0] === '\"') {\n        value = value.slice(1, -1);\n      }\n      return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n    },\n    write: function (value) {\n      return encodeURIComponent(value).replace(\n        /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n        decodeURIComponent\n      )\n    }\n  };\n  /* eslint-enable no-var */\n\n  /* eslint-disable no-var */\n\n  function init (converter, defaultAttributes) {\n    function set (name, value, attributes) {\n      if (typeof document === 'undefined') {\n        return\n      }\n\n      attributes = assign({}, defaultAttributes, attributes);\n\n      if (typeof attributes.expires === 'number') {\n        attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n      }\n      if (attributes.expires) {\n        attributes.expires = attributes.expires.toUTCString();\n      }\n\n      name = encodeURIComponent(name)\n        .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n        .replace(/[()]/g, escape);\n\n      var stringifiedAttributes = '';\n      for (var attributeName in attributes) {\n        if (!attributes[attributeName]) {\n          continue\n        }\n\n        stringifiedAttributes += '; ' + attributeName;\n\n        if (attributes[attributeName] === true) {\n          continue\n        }\n\n        // Considers RFC 6265 section 5.2:\n        // ...\n        // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n        //     character:\n        // Consume the characters of the unparsed-attributes up to,\n        // not including, the first %x3B (\";\") character.\n        // ...\n        stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n      }\n\n      return (document.cookie =\n        name + '=' + converter.write(value, name) + stringifiedAttributes)\n    }\n\n    function get (name) {\n      if (typeof document === 'undefined' || (arguments.length && !name)) {\n        return\n      }\n\n      // To prevent the for loop in the first place assign an empty array\n      // in case there are no cookies at all.\n      var cookies = document.cookie ? document.cookie.split('; ') : [];\n      var jar = {};\n      for (var i = 0; i < cookies.length; i++) {\n        var parts = cookies[i].split('=');\n        var value = parts.slice(1).join('=');\n\n        try {\n          var found = decodeURIComponent(parts[0]);\n          jar[found] = converter.read(value, found);\n\n          if (name === found) {\n            break\n          }\n        } catch (e) {}\n      }\n\n      return name ? jar[name] : jar\n    }\n\n    return Object.create(\n      {\n        set,\n        get,\n        remove: function (name, attributes) {\n          set(\n            name,\n            '',\n            assign({}, attributes, {\n              expires: -1\n            })\n          );\n        },\n        withAttributes: function (attributes) {\n          return init(this.converter, assign({}, this.attributes, attributes))\n        },\n        withConverter: function (converter) {\n          return init(assign({}, this.converter, converter), this.attributes)\n        }\n      },\n      {\n        attributes: { value: Object.freeze(defaultAttributes) },\n        converter: { value: Object.freeze(converter) }\n      }\n    )\n  }\n\n  var api = init(defaultConverter, { path: '/' });\n  /* eslint-enable no-var */\n\n  return api;\n\n}));\n\n},{}],2:[function(require,module,exports){\nconst Cookies = require(\"js-cookie\");\n\nvar COOKIE_NAMES = {\n  PREFERENCES_SET: \"cookies_preferences_set\",\n  POLICY: \"cookies_policy\",\n  GA: \"_ga\",\n  GA_GID: \"_gid\",\n  GA_GAT: \"_gat\",\n  USER_BANNER_LAST_SEEN: \"user_banner_last_seen\",\n};\n\nvar GOVUK_COOKIE_OPTIONS = {\n  expires: 365, // days\n  secure: true,\n  domain: \".education.gov.uk\",\n};\n\nvar GovUKCookie = {\n  getRaw: function (name) {\n    return Cookies.get(name);\n  },\n  get: function (name) {\n    var value = Cookies.get(name);\n    if (value) {\n      return JSON.parse(value);\n    }\n    return value;\n  },\n  set: function (name, value) {\n    return Cookies.set(name, value, GOVUK_COOKIE_OPTIONS);\n  },\n  remove: function (name) {\n    return Cookies.remove(name, GOVUK_COOKIE_OPTIONS);\n  },\n};\n\n// function that will remove any existing tracking cookies on page load\n(function () {\n  GovUKCookie.remove(COOKIE_NAMES.POLICY);\n  GovUKCookie.remove(COOKIE_NAMES.PREFERENCES_SET);\n  GovUKCookie.remove(COOKIE_NAMES.GA);\n  GovUKCookie.remove(COOKIE_NAMES.GA_GAT);\n  GovUKCookie.remove(COOKIE_NAMES.GA_GID);\n})();\n\n/**\n * Section to handle review users banner\n * It uses a dedicated cookie 'user_banner_last_seen'\n */\n\nfunction checkConditionForUsersBanner() {\n  var lastSeen = GovUKCookie.getRaw(COOKIE_NAMES.USER_BANNER_LAST_SEEN);\n  if (lastSeen) {\n    var numberOfDays = (new Date().getTime() - lastSeen) / (1000 * 3600 * 24);\n    if (numberOfDays > 90) {\n      // if the period is longer than 90 days show/update the banner\n      return true;\n    }\n  } else {\n    // if there is no value then show/update the banner\n    return true;\n  }\n  return false;\n}\n\nfunction showReviewUsersBanner() {\n  $(\"#review-users-banner\").show();\n}\n\nfunction setReviewUsersBannerLastSeen() {\n  GovUKCookie.set(COOKIE_NAMES.USER_BANNER_LAST_SEEN, new Date().getTime());\n}\n\nfunction loadReviewUsersBanner() {\n  if (checkConditionForUsersBanner()) {\n    showReviewUsersBanner();\n  }\n}\n\nfunction updateCookieReviewUsersBanner() {\n  if (checkConditionForUsersBanner()) {\n    setReviewUsersBannerLastSeen();\n  }\n}\n\n\n// Exports\n\nwindow.loadReviewUsersBanner = loadReviewUsersBanner;\nwindow.updateCookieReviewUsersBanner = updateCookieReviewUsersBanner;\n\n},{\"js-cookie\":1}],3:[function(require,module,exports){\n// <details> polyfill\n// http://caniuse.com/#feat=details\n\n// FF Support for HTML5's <details> and <summary>\n// https://bugzilla.mozilla.org/show_bug.cgi?id=591737\n\n// http://www.sitepoint.com/fixing-the-details-element/\n\n(function (global) {\n  var GOVUK = global.GOVUK || {};\n\n  GOVUK.details = {\n    NATIVE_DETAILS: typeof document.createElement(\"details\").open === \"boolean\",\n    KEY_ENTER: 13,\n    KEY_SPACE: 32,\n\n    // Create a started flag so we can prevent the initialisation\n    // function firing from both DOMContentLoaded and window.onload\n    started: false,\n\n    // Add event construct for modern browsers or IE\n    // which fires the callback with a pre-converted target reference\n    addEvent: function (node, type, callback) {\n      if (node.addEventListener) {\n        node.addEventListener(\n          type,\n          function (e) {\n            callback(e, e.target);\n          },\n          false,\n        );\n      } else if (node.attachEvent) {\n        node.attachEvent(\"on\" + type, function (e) {\n          callback(e, e.srcElement);\n        });\n      }\n    },\n\n    removeEvent: function (node, type) {\n      if (node.removeEventListener) {\n        node.removeEventListener(\n          type,\n          /* eslint-disable-next-line no-unused-vars */\n          function (e) {},\n          false,\n        );\n      } else if (node.detachEvent) {\n        /* eslint-disable-next-line no-unused-vars */\n        node.detachEvent(\"on\" + type, function (e) {});\n      }\n    },\n\n    // Cross-browser character code / key pressed\n    charCode: function (e) {\n      return typeof e.which === \"number\" ? e.which : e.keyCode;\n    },\n\n    // Cross-browser preventing default action\n    preventDefault: function (e) {\n      if (e.preventDefault) {\n        e.preventDefault();\n      } else {\n        e.returnValue = false;\n      }\n    },\n\n    // Handle cross-modal click events\n    addClickEvent: function (node, callback) {\n      GOVUK.details.addEvent(node, \"keypress\", function (e, target) {\n        // When the key gets pressed - check if it is enter or space\n        if (\n          GOVUK.details.charCode(e) === GOVUK.details.KEY_ENTER ||\n          GOVUK.details.charCode(e) === GOVUK.details.KEY_SPACE\n        ) {\n          if (target.nodeName.toLowerCase() === \"summary\") {\n            // Prevent space from scrolling the page\n            // and enter from submitting a form\n            GOVUK.details.preventDefault(e);\n            // Click to let the click event do all the necessary action\n            if (target.click) {\n              target.click();\n            } else {\n              // except Safari 5.1 and under don't support .click() here\n              callback(e, target);\n            }\n          }\n        }\n      });\n\n      // Prevent keyup to prevent clicking twice in Firefox when using space key\n      GOVUK.details.addEvent(node, \"keyup\", function (e, target) {\n        if (GOVUK.details.charCode(e) === GOVUK.details.KEY_SPACE) {\n          if (target.nodeName === \"SUMMARY\") {\n            GOVUK.details.preventDefault(e);\n          }\n        }\n      });\n\n      GOVUK.details.addEvent(node, \"click\", function (e, target) {\n        callback(e, target);\n      });\n    },\n\n    // Get the nearest ancestor element of a node that matches a given tag name\n    getAncestor: function (node, match) {\n      do {\n        if (!node || node.nodeName.toLowerCase() === match) {\n          break;\n        }\n        node = node.parentNode;\n      } while (node);\n\n      return node;\n    },\n\n    // Initialisation function\n    addDetailsPolyfill: function (list, container) {\n      container = container || document.body;\n      // If this has already happened, just return\n      // else set the flag so it doesn't happen again\n      if (GOVUK.details.started) {\n        return;\n      }\n      GOVUK.details.started = true;\n      // Get the collection of details elements, but if that's empty\n      // then we don't need to bother with the rest of the scripting\n      if ((list = container.getElementsByTagName(\"details\")).length === 0) {\n        return;\n      }\n      // else iterate through them to apply their initial state\n      var n = list.length;\n      var i = 0;\n      for (i; i < n; i++) {\n        var details = list[i];\n\n        // Save shortcuts to the inner summary and content elements\n        details.__summary = details.getElementsByTagName(\"summary\").item(0);\n        details.__content = details.getElementsByTagName(\"div\").item(0);\n\n        if (!details.__summary || !details.__content) {\n          return;\n        }\n        // If the content doesn't have an ID, assign it one now\n        // which we'll need for the summary's aria-controls assignment\n        if (!details.__content.id) {\n          details.__content.id = \"details-content-\" + i;\n        }\n\n        // Add ARIA role=\"group\" to details\n        details.setAttribute(\"role\", \"group\");\n\n        // Add role=button to summary\n        details.__summary.setAttribute(\"role\", \"button\");\n\n        // Add aria-controls\n        details.__summary.setAttribute(\"aria-controls\", details.__content.id);\n\n        // Set tabIndex so the summary is keyboard accessible for non-native elements\n        // http://www.saliences.com/browserBugs/tabIndex.html\n        if (!GOVUK.details.NATIVE_DETAILS) {\n          details.__summary.tabIndex = 0;\n        }\n\n        // Detect initial open state\n        var openAttr = details.getAttribute(\"open\") !== null;\n        if (openAttr === true) {\n          details.__summary.setAttribute(\"aria-expanded\", \"true\");\n          details.__content.setAttribute(\"aria-hidden\", \"false\");\n        } else {\n          details.__summary.setAttribute(\"aria-expanded\", \"false\");\n          details.__content.setAttribute(\"aria-hidden\", \"true\");\n          if (!GOVUK.details.NATIVE_DETAILS) {\n            details.__content.style.display = \"none\";\n          }\n        }\n\n        // Create a circular reference from the summary back to its\n        // parent details element, for convenience in the click handler\n        details.__summary.__details = details;\n\n        // If this is not a native implementation, create an arrow\n        // inside the summary\n        if (!GOVUK.details.NATIVE_DETAILS) {\n          var twisty = document.createElement(\"i\");\n\n          if (openAttr === true) {\n            twisty.className = \"arrow arrow-open\";\n            twisty.appendChild(document.createTextNode(\"\\u25bc\"));\n          } else {\n            twisty.className = \"arrow arrow-closed\";\n            twisty.appendChild(document.createTextNode(\"\\u25ba\"));\n          }\n\n          details.__summary.__twisty = details.__summary.insertBefore(\n            twisty,\n            details.__summary.firstChild,\n          );\n          details.__summary.__twisty.setAttribute(\"aria-hidden\", \"true\");\n        }\n      }\n\n      // Bind a click event to handle summary elements\n      GOVUK.details.addClickEvent(container, function (e, summary) {\n        if (!(summary = GOVUK.details.getAncestor(summary, \"summary\"))) {\n          return true;\n        }\n        return GOVUK.details.statechange(summary);\n      });\n    },\n\n    // Define a statechange function that updates aria-expanded and style.display\n    // Also update the arrow position\n    statechange: function (summary) {\n      var expanded =\n        summary.__details.__summary.getAttribute(\"aria-expanded\") === \"true\";\n      var hidden =\n        summary.__details.__content.getAttribute(\"aria-hidden\") === \"true\";\n\n      summary.__details.__summary.setAttribute(\n        \"aria-expanded\",\n        expanded ? \"false\" : \"true\",\n      );\n      summary.__details.__content.setAttribute(\n        \"aria-hidden\",\n        hidden ? \"false\" : \"true\",\n      );\n\n      if (!GOVUK.details.NATIVE_DETAILS) {\n        summary.__details.__content.style.display = expanded ? \"none\" : \"\";\n\n        var hasOpenAttr = summary.__details.getAttribute(\"open\") !== null;\n        if (!hasOpenAttr) {\n          summary.__details.setAttribute(\"open\", \"open\");\n        } else {\n          summary.__details.removeAttribute(\"open\");\n        }\n      }\n\n      if (summary.__twisty) {\n        summary.__twisty.firstChild.nodeValue = expanded ? \"\\u25ba\" : \"\\u25bc\";\n        summary.__twisty.setAttribute(\n          \"class\",\n          expanded ? \"arrow arrow-closed\" : \"arrow arrow-open\",\n        );\n      }\n\n      return true;\n    },\n\n    destroy: function (node) {\n      GOVUK.details.removeEvent(node, \"click\");\n    },\n\n    // Bind two load events for modern and older browsers\n    // If the first one fires it will set a flag to block the second one\n    // but if it's not supported then the second one will fire\n    init: function () {\n      GOVUK.details.addEvent(\n        document,\n        \"DOMContentLoaded\",\n        GOVUK.details.addDetailsPolyfill,\n      );\n      GOVUK.details.addEvent(window, \"load\", GOVUK.details.addDetailsPolyfill);\n    },\n  };\n  global.GOVUK = GOVUK;\n})(window);\n\n},{}],4:[function(require,module,exports){\nvar NSA = NSA || {};\nconst filterBoxes = $(\".filter-box\");\n\nNSA.filters = {\n  init() {\n    function checkCountText(checkboxes) {\n      return checkboxes.filter(\":checked\").length > 0\n        ? `${checkboxes.filter(\":checked\").length} selected`\n        : \"\";\n    }\n\n    filterBoxes.each((_, element) => {\n      const filterBox = $(element);\n      const header = filterBox.find(\".container-head\");\n      const title = header.find(\".option-select-label\");\n      const checkboxes = filterBox.find(\"input:checkbox\");\n      const button = $(\"<button />\").addClass(\"js-container-head\");\n      const checkCount = $(\"<div />\")\n        .addClass(\"js-selected-counter\")\n        .text(() => checkCountText(checkboxes));\n\n      button\n        .on(\"click\", (e) => {\n          const target = $(e.currentTarget);\n          const options = target.next();\n          if (target.hasClass(\"closed\")) {\n            options.show();\n            target.removeClass(\"closed\").attr(\"aria-expanded\", true);\n          } else {\n            options.hide();\n            target.addClass(\"closed\").attr(\"aria-expanded\", false);\n          }\n          e.preventDefault();\n        })\n        .append(title, checkCount);\n\n      header.replaceWith(button);\n\n      checkboxes.on(\"change\", () => {\n        checkCount.text(() => checkCountText(checkboxes));\n      });\n    });\n  },\n};\n\nif (filterBoxes.length > 0) {\n  NSA.filters.init();\n}\n\n},{}],5:[function(require,module,exports){\nfunction toKebabCase(str) {\n  return str.toLowerCase().replace(/\\s+/g, \"-\");\n}\n\nfunction hideElement() {\n  $(this).hide();\n}\n\nfunction uncheckCheckbox() {\n  $(this).prop(\"checked\", false);\n}\n\nfunction extractStartingNumberFromId(elementId) {\n  const element = $(`#${elementId}`);\n  const startingNumber = parseInt(element.prop(\"id\").split(\"-\").pop(), 10);\n  return startingNumber;\n}\n\nfunction extractFirstPartFromId(id) {\n  const parts = id.split(\"-\");\n  if (parts.length >= 2) {\n    parts.pop();\n    return `${parts.join(\"-\")}-`;\n  }\n  return id;\n}\n\nfunction updateCount(categoryName) {\n  const safeCategoryName = toKebabCase(categoryName);\n  const checkedCount = $(\n    `.${safeCategoryName} .govuk-checkboxes__input:checked`,\n  ).length;\n\n  $(`#${safeCategoryName}-count`).text(checkedCount);\n}\n\nfunction updateCategoryHeader(categoryName) {\n  const safeCategoryName = toKebabCase(categoryName);\n  const categoryHeader = $(`#${safeCategoryName}-text`);\n  const isAnyCheckedInCategory =\n    $(`input[id^='show-hide-${safeCategoryName}']:checked`).length > 0;\n  categoryHeader.css(\"display\", isAnyCheckedInCategory ? \"block\" : \"none\");\n}\n\nfunction updateNoFilterMessage() {\n  const isAnyCheckedGlobal =\n    $(\".govuk-checkboxes__input.dfe-filter-input:checked\").length > 0;\n  $(\"#show-hide-selected-filters\").css(\n    \"display\",\n    isAnyCheckedGlobal ? \"none\" : \"block\",\n  );\n}\n\nfunction showMe(boxId, categoryName, checkedElementId) {\n  const isChecked = $(`#${checkedElementId}`).prop(\"checked\");\n  $(`#${boxId}`).css(\"display\", isChecked ? \"block\" : \"none\");\n\n  updateCategoryHeader(categoryName);\n  updateNoFilterMessage();\n}\n\nfunction filterAndPerformAction(\n  firstPartOfListId,\n  listIdStartingNumber,\n  performAction,\n) {\n  const elementsToProcess = $(`[id^=\"${firstPartOfListId}\"]`).filter(\n    function () {\n      const id = parseInt(this.id.split(\"-\").pop(), 10);\n      return !Number.isNaN(id) && id > listIdStartingNumber;\n    },\n  );\n\n  elementsToProcess.each(performAction);\n}\n\n/* eslint-disable-next-line no-unused-vars */\nfunction hideMe(listId, categoryName, checkboxId) {\n  if (categoryName === \"Last login\") {\n    const listIdStartingNumber = extractStartingNumberFromId(listId);\n\n    const firstPartOfListId = extractFirstPartFromId(listId);\n    const firstPartOfCheckboxId = extractFirstPartFromId(checkboxId);\n\n    filterAndPerformAction(\n      firstPartOfListId,\n      listIdStartingNumber,\n      hideElement,\n    );\n    filterAndPerformAction(\n      firstPartOfCheckboxId,\n      listIdStartingNumber,\n      uncheckCheckbox,\n    );\n\n    const lastLoginCheckboxes = $(\".last-login-checkboxes-input\");\n    lastLoginCheckboxes.prop(\"disabled\", false);\n  }\n  $(`#${listId}`).hide();\n  $(`#${checkboxId}`).prop(\"checked\", false);\n\n  updateCount(categoryName);\n  updateCategoryHeader(categoryName);\n  updateNoFilterMessage();\n}\n\nfunction initializeFilters() {\n  $(\".govuk-checkboxes__input.dfe-filter-input\").each(function () {\n    const isChecked = $(this).prop(\"checked\");\n\n    if (isChecked) {\n      const checkboxId = $(this).attr(\"id\");\n      const parts = checkboxId.match(/show-hide-(.+)-(\\d+)/);\n      if (parts && parts.length === 3) {\n        const categoryName = parts[1];\n        const index = parts[2];\n        const boxId = `${categoryName}-option-${index}`;\n\n        if (categoryName === \"last-login\" && index === \"6\") {\n          const lastLoginCheckboxes = $(\".last-login-checkboxes-input\");\n          lastLoginCheckboxes.slice(0, index - 1).prop(\"disabled\", true);\n        }\n        showMe(boxId, categoryName, checkboxId);\n        updateCount(categoryName);\n        updateCategoryHeader(categoryName);\n        updateNoFilterMessage();\n      }\n    }\n  });\n}\n\nfunction handleLastLoginCheckboxChange(checkboxes, lastLoginListTags) {\n  checkboxes.on(\"change\", function () {\n    const index = checkboxes.index(this);\n    let firstPartOfCheckboxId;\n    if (this.checked) {\n      switch (this.value) {\n        case \"never\":\n          lastLoginListTags.css(\"display\", \"none\");\n          checkboxes.slice(0, index).prop(\"checked\", false);\n          checkboxes.slice(0, index).prop(\"disabled\", true);\n          initializeFilters();\n          break;\n\n        default:\n          checkboxes.slice(0, index).prop(\"checked\", true);\n          initializeFilters();\n      }\n    } else {\n      firstPartOfCheckboxId = extractFirstPartFromId(this.id);\n      filterAndPerformAction(firstPartOfCheckboxId, index + 1, uncheckCheckbox);\n      checkboxes.slice(0, index).prop(\"disabled\", false);\n      filterAndPerformAction(\"last-login-option-\", index + 1, hideElement);\n      updateCount(\"last-login\");\n      updateCategoryHeader(\"last-login\");\n    }\n  });\n}\n\n$(() => {\n  initializeFilters();\n\n  const lastLoginCheckboxes = $(\".last-login-checkboxes-input\");\n  const lastLoginListTags = $(\".last-login-option\");\n\n  lastLoginCheckboxes.on(\"click\", () => {\n    handleLastLoginCheckboxChange(lastLoginCheckboxes, lastLoginListTags);\n  });\n});\n\n},{}],6:[function(require,module,exports){\nvar NSA = NSA || {};\n\nNSA.modal = {\n  elems: {\n    links: $(\".modal-link\"),\n    modals: $(\".modal\"),\n  },\n  init: function () {\n    this.modalBg();\n    this.setUpEvents();\n  },\n  modalBg: function () {\n    var that = this;\n    var bg = $(\"<div>\")\n      .addClass(\"modal-bg\")\n      .hide()\n      .on(\"click\", function () {\n        that.hideModals();\n      });\n    $(\"body\").append(bg);\n  },\n  setUpEvents: function () {\n    var that = this;\n    this.elems.links.on(\"click\", function (e) {\n      var target = $(this).attr(\"href\");\n      that.showModal($(target));\n      e.preventDefault();\n    });\n\n    that.elems.modals.find(\".close\").on(\"click\", function (e) {\n      that.hideModals();\n      e.preventDefault();\n    });\n\n    $(\"body\").on(\"keydown\", function (e) {\n      if ((e.keyCode || e.which) === 27) that.hideModals();\n    });\n  },\n  showModal: function (modal) {\n    $(\"html\").addClass(\"modal-open\");\n    $(\".modal-bg\").show();\n    modal.show();\n  },\n  hideModals: function () {\n    $(\"html\").removeClass(\"modal-open\");\n    $(\".modal-bg\").hide();\n    this.elems.modals.hide();\n  },\n};\n\nNSA.modal.init();\n\n},{}],7:[function(require,module,exports){\nconst RESPONSE_TYPE_CODE = \"code\";\nconst RESPONSE_TYPE_ID_TOKEN = \"ID token\";\nconst RESPONSE_TYPE_TOKEN = \"token\";\n\nconst FLOW_TYPE_IMPLICIT = \"implicit\";\nconst FLOW_TYPE_AUTHORIZATION = \"authorization\";\nconst FLOW_TYPE_HYBRID = \"hybrid\";\n\n$(() => {\n  const createServiceConfigUrlSections = (\n    sectionId,\n    formGroupSelector,\n    labelText,\n  ) => {\n    const addButton = $(`#${sectionId}-add`);\n    const formGroup = $(`${formGroupSelector}`);\n\n    addButton.on(\"click\", function addInputFIeld() {\n      let counter = parseInt(formGroup.data(`${sectionId}-counter`), 10);\n      const newInputId = `${sectionId}-${counter}`;\n      const newElement = `\n      <div class=\"govuk-body dfe-flex-container\" id=\"${sectionId}-input-group-${counter}\">\n        <label for=\"${newInputId}\" class=\"govuk-label govuk-label--s govuk-visually-hidden\">\n          ${labelText}\n        </label>\n        <input\n          class=\"form-control dfe-flex-input-grow govuk-input\"\n          id=\"${newInputId}\"\n          name=\"${sectionId}\"\n        />\n        <a href=\"#\" class=\"govuk-link govuk-link--no-visited-state remove-redirect\" id=\"${sectionId}-remove-${counter}\" data-group-id=\"${counter}\">Remove</a>\n      </div>`;\n\n      $(newElement).appendTo(formGroup);\n      counter += 1;\n      formGroup.data(`${sectionId}-counter`, counter);\n      $(this).trigger(\"blur\");\n      return false;\n    });\n\n    formGroup.on(\"click\", \".remove-redirect\", function removeInput(e) {\n      e.preventDefault();\n      const groupId = $(this).data(\"group-id\");\n      $(`#${sectionId}-input-group-${groupId}`).remove();\n      $(this).trigger(\"blur\");\n\n      const newCounter = formGroup.find(\".dfe-flex-container\").length;\n      formGroup.data(`${sectionId}-counter`, newCounter);\n    });\n  };\n\n  createServiceConfigUrlSections(\n    \"redirect_uris\",\n    \"#redirect_uris-form-group\",\n    \"Redirect URL\",\n  );\n  createServiceConfigUrlSections(\n    \"post_logout_redirect_uris\",\n    \"#post_logout_redirect_uris-form-group\",\n    \"Logout redirect URL\",\n  );\n\n  function handleSecretGeneration(eventId, inputId, confirmMessage) {\n    $(eventId).on(\"click\", function generateSecret() {\n      const secretArray = window.niceware.generatePassphrase(8);\n      const secret = secretArray.join(\"-\");\n\n      const isConfirm = window.confirm(confirmMessage);\n      if (isConfirm) {\n        $(`input#${inputId}`).attr(\"value\", secret);\n      }\n      $(this).trigger(\"blur\");\n      return false;\n    });\n  }\n\n  handleSecretGeneration(\n    \"#generate-clientSecret\",\n    \"clientSecret\",\n    \"Are you sure you want to regenerate the client secret?\",\n  );\n  handleSecretGeneration(\n    \"#generate-apiSecret\",\n    \"apiSecret\",\n    \"Are you sure you want to regenerate the API secret?\",\n  );\n\n  function updateSections() {\n    const selectedTypes = [];\n\n    if ($(\"#response_types-id_token\").is(\":checked\")) {\n      selectedTypes.push(RESPONSE_TYPE_ID_TOKEN);\n    }\n\n    if ($(\"#response_types-token\").is(\":checked\")) {\n      selectedTypes.push(RESPONSE_TYPE_TOKEN);\n    }\n\n    if ($(\"#response_types-code\").is(\":checked\")) {\n      selectedTypes.push(RESPONSE_TYPE_CODE);\n    }\n\n    let warningMessage = \"\";\n\n    if (selectedTypes.length > 0) {\n      selectedTypes.sort((a, b) => {\n        const order = [\n          RESPONSE_TYPE_CODE,\n          RESPONSE_TYPE_ID_TOKEN,\n          RESPONSE_TYPE_TOKEN,\n        ];\n        return order.indexOf(a) - order.indexOf(b);\n      });\n\n      let flowType = FLOW_TYPE_IMPLICIT;\n\n      if (\n        selectedTypes.length === 1 &&\n        selectedTypes.includes(RESPONSE_TYPE_CODE)\n      ) {\n        flowType = FLOW_TYPE_AUTHORIZATION;\n      } else if (\n        (selectedTypes.includes(RESPONSE_TYPE_CODE) &&\n          selectedTypes.includes(RESPONSE_TYPE_TOKEN)) ||\n        (selectedTypes.includes(RESPONSE_TYPE_CODE) &&\n          selectedTypes.includes(RESPONSE_TYPE_ID_TOKEN))\n      ) {\n        flowType = FLOW_TYPE_HYBRID;\n      }\n\n      if (\n        selectedTypes.length === 1 &&\n        selectedTypes.includes(RESPONSE_TYPE_TOKEN)\n      ) {\n        warningMessage = \"\";\n      } else {\n        let selectedTypesDisplay;\n\n        if (selectedTypes.length > 1) {\n          const allButLast = selectedTypes.slice(0, -1).join(\", \");\n          const last = selectedTypes[selectedTypes.length - 1];\n          selectedTypesDisplay = `${allButLast} and ${last}`;\n        } else {\n          [selectedTypesDisplay] = selectedTypes;\n        }\n\n        warningMessage = `\n            <div class=\"govuk-warning-text govuk-!-margin-top-5 govuk-!-margin-bottom-0\" id=\"warning-response-types\">\n                <span class=\"govuk-warning-text__icon\" aria-hidden=\"true\">!</span>\n                <strong class=\"govuk-warning-text__text\">\n                    <span class=\"govuk-warning-text__assistive\">Warning</span>\n                    You have selected ${selectedTypesDisplay} as your response type. This means ${flowType} flow is your flow.\n                </strong>\n            </div>\n        `;\n      }\n    }\n\n    // Remove existing warning, if any\n    $(\"#warning-response-types\").remove();\n\n    // Add the new warning\n    if (warningMessage) {\n      $(\"#response_types-fieldset\").append(warningMessage);\n    }\n    const responseTypesCodeElement = $(\"#response_types-code\");\n    if (responseTypesCodeElement.length) {\n      const initialOffset = $(\"#response_types-code\").offset().top;\n\n      const initialScrollPosition = $(window).scrollTop();\n\n      if ($(\"#response_types-code\").is(\":checked\")) {\n        $(\n          \"#refresh_token-wrapper :input, #clientSecret-wrapper :input, #tokenEndpointAuthMethod-wrapper select\",\n        ).prop(\"disabled\", false);\n        $(\n          \"#refresh_token-wrapper, #clientSecret-wrapper, #tokenEndpointAuthMethod-wrapper\",\n        ).slideDown(500);\n      } else {\n        $(\n          \"#refresh_token-wrapper, #clientSecret-wrapper, #tokenEndpointAuthMethod-wrapper\",\n        ).slideUp(500, () => {\n          $(\n            \"#refresh_token-wrapper :input, #clientSecret-wrapper :input, #tokenEndpointAuthMethod-wrapper select\",\n          ).prop(\"disabled\", true);\n        });\n      }\n\n      const newOffset = $(\"#response_types-code\").offset().top;\n      const offsetDifference = newOffset - initialOffset;\n\n      $(\"html, body\").animate(\n        {\n          scrollTop: initialScrollPosition + offsetDifference,\n        },\n        50,\n        \"linear\",\n      );\n    }\n  }\n  updateSections();\n\n  // Event listener for the checkboxes\n  $(\"#response_types-id_token, #response_types-token, #response_types-code\").on(\n    \"change\",\n    () => {\n      updateSections();\n    },\n  );\n});\n\n},{}],8:[function(require,module,exports){\n((global) => {\n  const globalObject = global;\n  const $ = global.jQuery;\n  const GOVUK = global.GOVUK || {};\n\n  function ShowHideContent() {\n    const self = this;\n\n    // Radio and Checkbox selectors\n    const selectors = {\n      namespace: \"ShowHideContent\",\n      radio: '[data-target] > input[type=\"radio\"]',\n      checkbox: '[data-target] > input[type=\"checkbox\"]',\n      link: \"a.js-toggle-content\",\n      select: \"[data-target] > select\",\n    };\n\n    // Escape name attribute for use in DOM selector\n    function escapeElementName(str) {\n      return str.replace(\"[\", \"\\\\[\").replace(\"]\", \"\\\\]\");\n    }\n\n    // Return toggled content for control\n    function getToggledContent($control) {\n      let id = $control.attr(\"aria-controls\");\n\n      // ARIA attributes aren't set before init\n      if (!id) {\n        id = $control.closest(\"[data-target]\").data(\"target\");\n      }\n\n      // Find show/hide content by id\n      return $(`#${id}`);\n    }\n\n    // Adds ARIA attributes to control + associated content\n    function initToggledContent() {\n      const $control = $(this);\n      const $content = getToggledContent($control);\n\n      // Set aria-controls and defaults\n      if ($content.length) {\n        $control.attr(\"aria-controls\", $content.attr(\"id\"));\n        $control.attr(\"aria-expanded\", \"false\");\n      }\n    }\n\n    // Show toggled content for control\n    function showToggledContent($control, $content) {\n      // Show content\n      if ($content.hasClass(\"js-hidden\")) {\n        $content.removeClass(\"js-hidden\");\n\n        // If the controlling input, update aria-expanded\n        if ($control.attr(\"aria-controls\")) {\n          $control.attr(\"aria-expanded\", \"true\");\n        }\n      }\n    }\n\n    // Hide toggled content for control\n    function hideToggledContent($control, $content) {\n      const content = $content || getToggledContent($control);\n\n      // Hide content\n      if (!content.hasClass(\"js-hidden\")) {\n        content.addClass(\"js-hidden\");\n\n        // If the controlling input, update aria-expanded\n        if ($control.attr(\"aria-controls\")) {\n          $control.attr(\"aria-expanded\", \"false\");\n        }\n      }\n    }\n\n    // Handle radio show/hide\n    function handleRadioContent($control, $content) {\n      // All radios in this group which control content\n      const selector = `${selectors.radio}[name=${escapeElementName($control.attr(\"name\"))}][aria-controls]`;\n      const $form = $control.closest(\"form\");\n      const $radios = $form.length ? $form.find(selector) : $(selector);\n\n      // Hide content for radios in group\n      $radios.each(function () {\n        hideToggledContent($(this));\n      });\n\n      // Select content for this control\n      if ($control.is(\"[aria-controls]\")) {\n        showToggledContent($control, $content);\n      }\n    }\n\n    // Handle checkbox show/hide\n    function handleCheckboxContent($control, $content) {\n      // Show checkbox content\n      if ($control.is(\":checked\")) {\n        showToggledContent($control, $content);\n      } else {\n        // Hide checkbox content\n        hideToggledContent($control, $content);\n      }\n    }\n\n    // Handle checkbox show/hide\n    function handleLinkContent($control, $content, $event) {\n      if ($content.hasClass(\"js-hidden\")) {\n        showToggledContent($control, $content);\n      } else {\n        hideToggledContent($control, $content);\n      }\n      $event.preventDefault();\n    }\n\n    function handleSelectContent($control, $content) {\n      if ($control.val() === $control.data(\"option\")) {\n        showToggledContent($control, $content);\n        return;\n      }\n\n      hideToggledContent($content, $content);\n      if ($control.data(\"clear\")) {\n        $content.find(\":input\").each((_, element) => {\n          const input = element;\n          input.value = \"\";\n        });\n      }\n    }\n\n    // Set up event handlers etc\n    function init($container, elementSelector, eventSelectors, handler) {\n      const container = $container || $(document.body);\n\n      // Handle control clicks\n      function deferred(event) {\n        const $control = $(this);\n        handler($control, getToggledContent($control), event);\n      }\n\n      // Prepare ARIA attributes\n      const $controls = $(elementSelector);\n      $controls.each(initToggledContent);\n\n      // Handle events\n      $.each(eventSelectors, (_, eventSelector) => {\n        if (handler === handleSelectContent) {\n          container.on(\n            `change.${selectors.namespace}`,\n            eventSelector,\n            deferred,\n          );\n        } else {\n          container.on(`click.${selectors.namespace}`, eventSelector, deferred);\n        }\n      });\n\n      // Any already :checked on init?\n      if (handler === handleCheckboxContent && $controls.is(\":checked\")) {\n        $controls.filter(\":checked\").each(deferred);\n      }\n\n      if (handler === handleSelectContent) {\n        $controls.each(deferred);\n      }\n    }\n\n    // Get event selectors for all radio groups\n    function getEventSelectorsForRadioGroups() {\n      const radioGroups = [];\n\n      // Build an array of radio group selectors\n      return $(selectors.radio).map(function () {\n        const groupName = $(this).attr(\"name\");\n\n        if ($.inArray(groupName, radioGroups) === -1) {\n          radioGroups.push(groupName);\n          return `input[type=\"radio\"][name=\"${$(this).attr(\"name\")}\"]`;\n        }\n        return null;\n      });\n    }\n\n    // Set up radio show/hide content for container\n    self.showHideRadioToggledContent = function ($container) {\n      init(\n        $container,\n        selectors.radio,\n        getEventSelectorsForRadioGroups(),\n        handleRadioContent,\n      );\n    };\n\n    // Set up checkbox show/hide content for container\n    self.showHideCheckboxToggledContent = function ($container) {\n      init(\n        $container,\n        selectors.checkbox,\n        [selectors.checkbox],\n        handleCheckboxContent,\n      );\n    };\n\n    // Set up links show/hide content for container\n    self.showHideLinkToggledContent = function ($container) {\n      init($container, selectors.link, [selectors.link], handleLinkContent);\n    };\n\n    self.showHideSelectToggledContent = function ($container) {\n      init(\n        $container,\n        selectors.select,\n        [selectors.select],\n        handleSelectContent,\n      );\n    };\n\n    // Remove event handlers\n    self.destroy = function ($container) {\n      const container = $container || $(document.body);\n      container.off(`.${selectors.namespace}`);\n    };\n  }\n\n  ShowHideContent.prototype.init = function ($container) {\n    this.showHideRadioToggledContent($container);\n    this.showHideCheckboxToggledContent($container);\n    this.showHideLinkToggledContent($container);\n    this.showHideSelectToggledContent($container);\n  };\n\n  GOVUK.ShowHideContent = ShowHideContent;\n  globalObject.GOVUK = GOVUK;\n})(window);\n\n},{}],9:[function(require,module,exports){\nfunction sortTable(n) {\n  var table,\n    rows,\n    switching,\n    i,\n    x,\n    y,\n    shouldSwitch,\n    direction,\n    switchcount = 0;\n  table = $(\"table.sortable\");\n  switching = true;\n  direction = \"a\";\n\n  while (switching) {\n    switching = false;\n    rows = table.find(\"tr\");\n\n    for (i = 1; i < rows.length - 1; i++) {\n      shouldSwitch = false;\n\n      x = rows[i].getElementsByTagName(\"TD\")[n];\n      y = rows[i + 1].getElementsByTagName(\"TD\")[n];\n\n      if (direction === \"a\") {\n        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {\n          shouldSwitch = true;\n          break;\n        }\n      } else if (direction === \"d\") {\n        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {\n          shouldSwitch = true;\n          break;\n        }\n      }\n    }\n\n    if (shouldSwitch) {\n      rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);\n      switching = true;\n\n      switchcount++;\n    } else {\n      if (switchcount === 0 && direction === \"a\") {\n        direction = \"d\";\n        switching = true;\n      }\n    }\n  }\n  return direction;\n}\n\n$(function () {\n  $(\"table.sortable thead th\").on(\"click\", function () {\n    var headingCells = $(\"table.sortable thead tr th\");\n\n    headingCells\n      .removeClass(\"sorted\")\n      .removeClass(\"dir-a\")\n      .removeClass(\"dir-d\");\n\n    var index = headingCells.index($(this));\n\n    var direction = sortTable(index);\n\n    $(this).addClass(\"sorted dir-\" + direction);\n  });\n});\n\n},{}],10:[function(require,module,exports){\nvar toggleTips = $(\".toggle-help\");\n\ntoggleTips.each(function () {\n  var $that, liveRegion, container, toggleTip;\n\n  $that = $(this);\n\n  container = $(\"<span />\").attr(\"class\", \"toggletip\");\n\n  toggleTip = $(\"<button />\")\n    .attr(\"type\", \"button\")\n    .attr(\"aria-label\", \"Help\")\n    .attr(\"data-toggletip-content\", $that.html())\n    .text(\"?\")\n    .on(\"click\", function () {\n      var message = $(this).data(\"toggletip-content\");\n      var liveRegion = $(this).next();\n      window.setTimeout(function () {\n        liveRegion.html(function () {\n          return $(\"<span />\")\n            .attr(\"class\", function () {\n              return $that.html().length > 50 ? \"bubble long\" : \"bubble\";\n            })\n            .text(message);\n        });\n      }, 100);\n    })\n    .on(\"keydown\", function (e) {\n      if ((e.keyCode || e.which) === 27) liveRegion.html(\"\");\n    });\n\n  liveRegion = $(\"<span />\").attr(\"role\", \"status\");\n\n  container.append(toggleTip, liveRegion);\n\n  $that.before(container).remove();\n\n  $(document).on(\"click\", function (e) {\n    if ($that[0] !== $(e.target)) {\n      liveRegion.html(\"\");\n    }\n  });\n});\n\n},{}],11:[function(require,module,exports){\nfunction validatePassword() {\n  var id = $(this).attr(\"id\");\n  var password = $(this).val();\n  $(`#length-${id}`).removeClass(\n    password.length >= 14 ? \"icon-remove\" : \"icon-ok\",\n  );\n  $(`#length-${id}`).addClass(\n    password.length >= 14 ? \"icon-ok\" : \"icon-remove\",\n  );\n}\n\n$(\".password-input-check\").each(function () {\n  var $passwordInput = $(this);\n  var id = $passwordInput.attr(\"id\");\n  var validatePasswordHtml = $(`<div id='validation-feedback-${id}'>`).append(\n    `<div id='length-${id}' class='icon-remove'>be at least 14 characters</div>`,\n  );\n\n  $passwordInput.before(validatePasswordHtml);\n});\n\n$(\".password-input-check\").on(\"keyup\", validatePassword);\n\n},{}],12:[function(require,module,exports){\nvar forms = $(\"#content form\");\n//var inputs = forms.find('.form-group input');\n\nforms.attr(\"novalidate\", \"novalidate\");\n\n/*\nforms.on('submit', function () {\n  inputs.each(function () {\n    var result = this.checkValidity();\n    if (!result) {\n      showValidationMessage(this);\n    } else {\n      hideValidationMessage(this);\n    }\n  });\n  return this.checkValidity();\n});\n\ninputs.on('blur', function () {\n  var result = this.checkValidity();\n  if (!result) {\n    showValidationMessage(this);\n  } else {\n    hideValidationMessage(this);\n  }\n});\n\nvar showValidationMessage = function (field) {\n\n  var field = field,\n    $field = $(field),\n    $parent = $field.parent();\n\n  if ($parent.hasClass('show-password')) {\n    $parent = $parent.parent();\n  }\n\n  if (!$parent.hasClass('govuk-form-group--error')) {\n\n    var labelText = $field.data('label') || $(\"label[for='\" + $field.attr('id') + \"']\").text(),\n      errorMessageText = 'Enter a valid ' + labelText.toLowerCase(),\n      errorMessage = $('<p class=\"govuk-body\">')\n        .html(errorMessageText)\n        .prop('class', 'error-message')\n        .prop('id', 'validation-' + slugify(labelText));\n\n    $field.before(errorMessage);\n    $parent.addClass('govuk-form-group--error');\n    $field.attr({\n      'aria-describedby' : 'validation-' + slugify(labelText),\n      'aria-invalid': 'true'\n    });\n  }\n}\n\nvar hideValidationMessage = function (field) {\n  var field = field,\n    $field = $(field),\n    $parent = $field.parent();\n\n  if ($parent.hasClass('show-password')) {\n    $parent = $parent.parent();\n  }\n\n  $parent.removeClass('govuk-form-group--error');\n  $parent.find('p.error-message').remove();\n  $field.removeAttr('aria-describedby');\n  $field.removeAttr('aria-invalid');\n}\n\nvar slugify = function (text) {\n  return text.toString().toLowerCase()\n    .replace(/\\s+/g, '-')\n    .replace(/[^\\w\\-]+/g, '')\n    .replace(/\\-\\-+/g, '-')\n    .replace(/^-+/, '')\n    .replace(/-+$/, '');\n}\n\n*/\n\n},{}],13:[function(require,module,exports){\nrequire(\"./_cookies.js\");\nrequire(\"./_details.polyfill.js\");\nrequire(\"./_filter-boxes.js\");\nrequire(\"./_filters.js\");\nrequire(\"./_modal.js\");\nrequire(\"./_serviceConfigForm.js\");\nrequire(\"./_show-hide-content.js\");\nrequire(\"./_tablesort.js\");\nrequire(\"./_tooltip.js\");\nrequire(\"./_validate-password.js\");\nrequire(\"./_validation.js\");\n\nvar NSA = NSA || {};\n\nNSA = {\n  initialiseShowPassword: function () {\n    // Get all the password inputs in the page and loop through them to add the show/hide button\n    var $passwordInputs = $(\".password-input\");\n    $passwordInputs.each(function () {\n      var $that = $(this);\n      // Create show/hide button\n      var $showButton = $(\"<button />\").prop({\n        type: \"button\",\n        class:\n          \"show-password govuk-button govuk-button--secondary govuk-!-margin-bottom-1\",\n        ariaLabel: \"Show password\",\n      });\n      $showButton.html(\"Show\");\n      // When clicking on that button we will show/hide the password accordingly\n      $showButton.on(\"click\", function () {\n        if ($that.attr(\"type\") === \"password\") {\n          $that.attr(\"type\", \"text\");\n          $showButton.text(\"Hide\");\n        } else {\n          $that.attr(\"type\", \"password\");\n          $showButton.text(\"Show\");\n        }\n      });\n      // Add button to the document\n      $that.after($showButton);\n    });\n  },\n\n  backLink: function () {\n    var backLink = $(\"<a>\")\n      .attr({ href: \"#\", class: \"govuk-back-link\" })\n      .text(\"Back\")\n      .on(\"click\", function (e) {\n        window.history.back();\n        e.preventDefault();\n      });\n    $(\".js-back-link\").html(backLink);\n  },\n};\n\nif ($(\"select.select2\").length > 0) {\n  $(\"select.select2\").select2({ matcher: select2ModelMatcher });\n}\n\nfunction select2ModelMatcher(params, data) {\n  data.parentText = data.parentText || \"\";\n  if (\n    typeof params.term === \"undefined\" ||\n    !params.term ||\n    params.term.trim() === \"\"\n  ) {\n    return data;\n  }\n  if (data.children && data.children.length > 0) {\n    var match = $.extend(true, {}, data);\n    for (var c = data.children.length - 1; c >= 0; c--) {\n      var child = data.children[c];\n      child.parentText += data.parentText + \" \" + data.text;\n      var matches = select2ModelMatcher(params, child);\n      if (matches == null) {\n        match.children.splice(c, 1);\n      }\n    }\n    if (match.children.length > 0) {\n      return match;\n    }\n    return select2ModelMatcher(params, match);\n  }\n  var original = (data.parentText + \" \" + data.text).toUpperCase();\n  var term = params.term.toUpperCase();\n  if (original.indexOf(term) > -1) {\n    return data;\n  }\n  return null;\n}\n\nif ($(\".password-input\").length > 0) {\n  NSA.initialiseShowPassword();\n}\n\nif ($(\".js-back-link\")) {\n  NSA.backLink();\n}\n\n$(\".under-construction\").on(\"click\", function (e) {\n  window.alert(\"This functionality is not available yet\");\n  e.preventDefault();\n});\n\nif ($(\".notification span.icon\").length > 0) {\n  $(\".notification span.icon\").on(\"click\", function () {\n    $(this).parent().hide();\n  });\n}\n\nif ($(\"article.organisation-services\").length > 0) {\n  $(\".information\").on(\"click\", function (e) {\n    var info = $(this).parent().parent().find(\".service-description\");\n    e.preventDefault();\n    info.toggle();\n  });\n\n  $(\".info-link\").on(\"click\", function (e) {\n    var meta = $(this).parent().next();\n    e.preventDefault();\n    meta.toggle();\n  });\n}\n\nvar searchFields = $(\"form .search-field\");\n\nif (searchFields.length > 0) {\n  var loader = $(\"<span />\").addClass(\"loader spinner-inline\");\n  var b1 = $(\"<span />\").addClass(\"ball b-1\");\n  var b2 = $(\"<span />\").addClass(\"ball b-2\");\n  loader.append(b1).append(b2);\n\n  searchFields.each(function () {\n    var form = $(this).parent();\n    var button = form.find(\"button\");\n    form.on(\"submit\", function () {\n      button.after(loader).hide();\n    });\n  });\n}\n\nvar formRegister = $(\".prevent-form-double-submission\");\n\nif (formRegister.length > 0) {\n  formRegister.each(function () {\n    var $submitButtons = $(formRegister).find(\"button:submit\"),\n      $submitButton = $submitButtons.eq(0);\n    formRegister.on(\"submit\", function () {\n      $submitButtons.attr(\"disabled\", \"disabled\");\n\n      $submitButton.css(\"min-width\", $submitButton.outerWidth() + \"px\");\n\n      $submitButton.append(\n        \"<span class='loader spinner-inline'> <span class='ball b-1'></span> <span class='ball b-2'></span> <span class='ball b-3'></span> </span>\",\n      );\n    });\n  });\n}\n\n$(\".auto-scroll-on-change\").on(\"change\", function () {\n  $(window).scrollTop($(\".auto-scroll-dest\").position().top);\n});\n\n$(\".close-button\").on(\"click\", function (e) {\n  var notification = e.target.closest(\".govuk-notification-banner\");\n  notification.remove();\n});\n\n// select next element in the template, show it and hide the toggle link\n$(\".toggle-open\").on(\"click\", function (e) {\n  var meta = $(this).next();\n  e.preventDefault();\n  meta.removeClass(\"govuk-visually-hidden\");\n  $(this).addClass(\"govuk-visually-hidden\");\n});\n\n// #region Session time out\n\nvar tabId = new Date().getTime();\n\n// 8 hour session = 8 * 60 = 480\nconst sessionDurationInMinutes = 480;\n\n// When only N minutes of the session remain, notify the user via the modal\nconst notifyUserWhenSessionMinutesRemain = 5;\n\nfunction getSessionNotifyUserInSeconds() {\n  return notifyUserWhenSessionMinutesRemain * 60 - 1;\n}\n\nfunction updateSessionCounterDisplay(totalSecondsRemaining) {\n  const minutesRemaining = Math.floor(totalSecondsRemaining / 60);\n  const secondsRemaining = totalSecondsRemaining % 60;\n\n  $(\"#minutes\").html(minutesRemaining.toString().padStart(1, \"0\"));\n  $(\"#seconds\").html(secondsRemaining.toString().padStart(2, \"0\"));\n}\n\nfunction sessionTimeout() {\n  window.localStorage.removeItem(\"uri\");\n\n  window.onfocus = function () {\n    countTimeDiff();\n  };\n\n  updateSessionCounterDisplay(getSessionNotifyUserInSeconds());\n\n  // Convert sessionDurationInMinutes into seconds - getSessionNotifyUserInSeconds and convert the sum into milliseconds\n  const triggerCallbackInMilliseconds =\n    (sessionDurationInMinutes * 60 - getSessionNotifyUserInSeconds()) * 1000;\n\n  setTimeout(function () {\n    // Tabs are set to check if other tabs running timer then set to 1\n    // when set to 0 means 'Stay signed in' is selected\n    window.localStorage.setItem(\"tabs\", \"1\");\n\n    $(\".session-timeout-overlay\").show();\n    $(\"#modal-signin\").focus();\n\n    startTimer();\n  }, triggerCallbackInMilliseconds);\n}\n\n$(\"#modal-signin\").on(\"click\", () => {\n  clearInterval(timeoutTimer);\n  window.localStorage.setItem(\"tabs\", \"0\");\n  location.reload();\n});\n\n$(\"#modal-signout\").on(\"click\", () => {\n  clearInterval(timeoutTimer);\n  location.href = \"/signout\";\n});\n\nvar timeoutTimer;\n\nfunction startTimer() {\n  var totalSecondsRemaining = getSessionNotifyUserInSeconds();\n\n  timeoutTimer = setInterval(function () {\n    if (window.localStorage.getItem(\"tabs\") === \"0\") {\n      clearInterval(timeoutTimer);\n      location.reload();\n    }\n\n    totalSecondsRemaining--;\n    updateSessionCounterDisplay(totalSecondsRemaining);\n\n    if (totalSecondsRemaining <= 0) {\n      callTimeout();\n    } else if (tabId) {\n      countTimeDiff();\n    }\n  }, 1000);\n}\n\nfunction callTimeout() {\n  clearInterval(timeoutTimer);\n  window.localStorage.setItem(\"uri\", location.pathname);\n  location.href = \"/signout\";\n}\n\nfunction countTimeDiff() {\n  var diff = new Date().getTime() - Number(tabId);\n  var minutes = diff / (60 * 1000);\n\n  if (minutes > sessionDurationInMinutes) {\n    window.localStorage.setItem(\"uri\", location.pathname);\n    clearInterval(timeoutTimer);\n    location.reload();\n  }\n}\n\n// exports\n\nwindow.sessionTimeout = sessionTimeout;\n\n// #endregion\n\nvar showHideContent = new GOVUK.ShowHideContent();\nshowHideContent.init();\n\nGOVUK.details.init();\n\n},{\"./_cookies.js\":2,\"./_details.polyfill.js\":3,\"./_filter-boxes.js\":4,\"./_filters.js\":5,\"./_modal.js\":6,\"./_serviceConfigForm.js\":7,\"./_show-hide-content.js\":8,\"./_tablesort.js\":9,\"./_tooltip.js\":10,\"./_validate-password.js\":11,\"./_validation.js\":12}]},{},[13]);\n"],"mappings":"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"}